"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[961],{570:function(e,n,r){r.d(n,{X:function(){return c}});var t,a=r(168),s=r(924),i=r(130),c=s.ZP.p(t||(t=(0,a.Z)(["\n  text-align: center;\n  color: ",";\n"])),(function(e){var n="";switch(e.$infotype){case i.$9.error:n="red";break;case i.$9.notification:n="#3f51b5";break;default:n="black"}return n}))},130:function(e,n,r){r.d(n,{$9:function(){return a},Q_:function(){return t}});var t={idle:"idle",pending:"pending",resolved:"resolved",rejected:"rejected"},a={error:"error",notification:"notification"}},257:function(e,n,r){r.d(n,{H:function(){return t}});var t={secure_base_url:"https://image.tmdb.org/t/p/",poster_sizes:"w500",profile_sizes:"w185"}},961:function(e,n,r){r.r(n);var t=r(861),a=r(439),s=r(757),i=r.n(s),c=r(791),u=r(689),o=r(87),l=r(258),p=r(257),d=r(124),f=r(570),h=r(130),v=r(184);n.default=function(){var e,n,r=(0,c.useState)(null),s=(0,a.Z)(r,2),x=s[0],g=s[1],m=(0,c.useState)(h.Q_.idle),j=(0,a.Z)(m,2),w=j[0],_=j[1],b=(0,c.useState)(null),k=(0,a.Z)(b,2),y=k[0],Z=k[1],Q=(0,u.TH)(),$=(0,c.useRef)(null!==(e=null===(n=Q.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/"),H=(0,u.UO)().movieId;return(0,c.useEffect)((function(){if(H){var e=new AbortController,n=e.signal;try{!function(){r.apply(this,arguments)}()}catch(y){_(h.Q_.rejected),Z(y)}return function(){e.abort()}}function r(){return(r=(0,t.Z)(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(h.Q_.pending),e.next=3,(0,d.Pg)(H,n);case 3:r=e.sent,console.log(r),g(r),_(h.Q_.resolved);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),[H]),(0,v.jsxs)(v.Fragment,{children:[w===h.Q_.resolved&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(o.rU,{to:$.current,children:[(0,v.jsx)("span",{children:"<="})," Go back"]}),(0,v.jsx)("section",{children:(0,v.jsxs)("div",{children:[(0,v.jsx)("img",{src:"".concat(p.H.secure_base_url).concat(p.H.poster_sizes,"/").concat(x.poster_path),alt:""}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h2",{children:x.title}),(0,v.jsxs)("p",{children:[Math.round(10*+x.vote_average),"%"]}),(0,v.jsx)("h3",{children:"Overview"}),(0,v.jsx)("p",{children:x.overview}),(0,v.jsx)("h4",{children:"Genres"}),(0,v.jsx)("ul",{children:x.genres.map((function(e){var n=e.id,r=e.name;return(0,v.jsx)("li",{children:r},n)}))})]})]})}),(0,v.jsxs)("section",{children:[(0,v.jsx)("h3",{children:"Additional information"}),(0,v.jsxs)("ul",{children:[(0,v.jsx)("li",{children:(0,v.jsx)(o.rU,{to:"cast",children:"Cast"})}),(0,v.jsx)("li",{children:(0,v.jsx)(o.rU,{to:"review",children:"Reviews"})})]}),(0,v.jsx)(c.Suspense,{fallback:(0,v.jsx)(l.a,{}),children:(0,v.jsx)(u.j3,{})})]})]}),w===h.Q_.pending&&(0,v.jsx)(l.a,{}),w===h.Q_.error&&(0,v.jsx)(f.X,{$infotype:h.$9.error,children:"Oops, something went wrong! ".concat(y.message)})]})}},124:function(e,n,r){r.d(n,{Hg:function(){return c},Nr:function(){return o},Pg:function(){return p},tx:function(){return v},zv:function(){return f}});var t=r(861),a=r(757),s=r.n(a),i=r(294).Z.create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"aa5059789a38bc93f2c5a690047de290"}});function c(e,n){return u.apply(this,arguments)}function u(){return(u=(0,t.Z)(s().mark((function e(n,r){var t,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={page:n},e.next=3,i.get("trending/movie/day",{params:t,signal:r});case 3:return a=e.sent,c=a.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(e,n,r){return l.apply(this,arguments)}function l(){return(l=(0,t.Z)(s().mark((function e(n,r,t){var a,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={query:n,page:r},e.next=3,i.get("search/movie",{params:a,signal:t});case 3:return c=e.sent,u=c.data,e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,n){return d.apply(this,arguments)}function d(){return(d=(0,t.Z)(s().mark((function e(n,r){var t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("movie/".concat(n),{signal:r});case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,n){return h.apply(this,arguments)}function h(){return(h=(0,t.Z)(s().mark((function e(n,r){var t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("movie/".concat(n,"/credits"),{signal:r});case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,n,r){return x.apply(this,arguments)}function x(){return(x=(0,t.Z)(s().mark((function e(n,r,t){var a,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={page:r},e.next=3,i.get("movie/".concat(n,"/reviews"),{params:a,signal:t});case 3:return c=e.sent,u=c.data,e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=961.7252da13.chunk.js.map