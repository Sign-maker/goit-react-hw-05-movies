"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[145],{14:function(e,t,n){n.d(t,{p:function(){return a}});var r=n(184),a=function(e){var t=e.handleLoadMore;return(0,r.jsx)("button",{onClick:t,children:"Load more"})}},570:function(e,t,n){n.d(t,{X:function(){return o}});var r,a=n(168),u=n(924),i=n(130),o=u.ZP.p(r||(r=(0,a.Z)(["\n  text-align: center;\n  color: ",";\n"])),(function(e){var t="";switch(e.$infotype){case i.$9.error:t="red";break;case i.$9.notification:t="#3f51b5";break;default:t="black"}return t}))},851:function(e,t,n){n.d(t,{O:function(){return o}});var r=n(689),a=n(87),u=n(184),i=function(e){var t=e.id,n=e.title,r=e.state;return(0,u.jsx)("li",{children:(0,u.jsx)(a.rU,{to:"/movies/".concat(t),state:r,children:n})})},o=function(e){var t=e.items,n=(0,r.TH)();return(0,u.jsx)("ul",{children:t.map((function(e,t){var r=e.id,a=e.title;return(0,u.jsx)(i,{id:r,title:a,state:{from:n}},t)}))})}},130:function(e,t,n){n.d(t,{$9:function(){return a},Q_:function(){return r}});var r={idle:"idle",pending:"pending",resolved:"resolved",rejected:"rejected"},a={error:"error",notification:"notification"}},145:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(433),a=n(861),u=n(439),i=n(757),o=n.n(i),c=n(791),s=n(87),f=n(14),p=n(130),l=n(258),d=n(570),v=n(851),h=n(184),m=function(e){var t=e.value,n=e.onSubmit,r=(0,c.useId)();return(0,h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements.query.value.trim();n(t)},children:["SearchForm",(0,h.jsx)("label",{htmlFor:r}),(0,h.jsx)("input",{id:r,type:"text",defaultValue:t,name:"query",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),(0,h.jsx)("button",{type:"submit",children:"Search"})]})},g=n(124),x=function(){var e=(0,s.lr)(),t=(0,u.Z)(e,2),n=t[0],i=t[1],x=(0,c.useState)([]),y=(0,u.Z)(x,2),b=y[0],w=y[1],j=(0,c.useState)(1),k=(0,u.Z)(j,2),Z=k[0],_=k[1],S=(0,c.useState)(p.Q_.idle),Q=(0,u.Z)(S,2),$=Q[0],q=Q[1],C=(0,c.useState)(!1),F=(0,u.Z)(C,2),L=F[0],M=F[1],N=(0,c.useState)(null),O=(0,u.Z)(N,2),P=O[0],X=O[1],H=(0,c.useMemo)((function(){var e;return null!==(e=n.get("query"))&&void 0!==e?e:""}),[n]);(0,c.useEffect)((function(){if(H){var e=new AbortController,t=e.signal;try{!function(){n.apply(this,arguments)}()}catch(P){q(p.Q_.rejected),X(P)}return function(){e.abort()}}function n(){return(n=(0,a.Z)(o().mark((function e(){var n,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(p.Q_.pending),e.next=3,(0,g.Nr)(H,Z,t);case 3:n=e.sent,a=n.results,u=n.total_pages,M(Z<u),w((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(a))})),q(p.Q_.resolved);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),[H,Z]);var U=($===p.Q_.resolved||L)&&b.length>0,z=$===p.Q_.resolved&&!b.length,A=$===p.Q_.pending,D=$===p.Q_.resolved&&L,E=$===p.Q_.rejected;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m,{onSubmit:function(e){""!==e?(w([]),_(1),i({query:e})):i({})},value:H}),U&&(0,h.jsx)(v.O,{items:b}),z&&(0,h.jsx)(d.X,{$infotype:p.$9.notification,children:"No items found! Please, try another query!"}),A&&(0,h.jsx)(l.a,{}),D&&(0,h.jsx)(f.p,{handleLoadMore:function(){_((function(e){return e+1}))}}),E&&(0,h.jsx)(d.X,{$infotype:p.$9.error,children:"Oops, something went wrong! ".concat(P.message)})]})}},124:function(e,t,n){n.d(t,{Hg:function(){return o},Nr:function(){return s},Pg:function(){return p},tx:function(){return h},zv:function(){return d}});var r=n(861),a=n(757),u=n.n(a),i=n(294).Z.create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"aa5059789a38bc93f2c5a690047de290"}});function o(e,t){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)(u().mark((function e(t,n){var r,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={page:t},e.next=3,i.get("trending/movie/day",{params:r,signal:n});case 3:return a=e.sent,o=a.data,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e,t,n){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(u().mark((function e(t,n,r){var a,o,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={query:t,page:n},e.next=3,i.get("search/movie",{params:a,signal:r});case 3:return o=e.sent,c=o.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(u().mark((function e(t,n){var r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("movie/".concat(t),{signal:n});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(u().mark((function e(t,n){var r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("movie/".concat(t,"/credits"),{signal:n});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,n){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(u().mark((function e(t,n,r){var a,o,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={page:n},e.next=3,i.get("movie/".concat(t,"/reviews"),{params:a,signal:r});case 3:return o=e.sent,c=o.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=145.33863758.chunk.js.map