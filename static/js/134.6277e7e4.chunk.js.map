{"version":3,"file":"static/js/134.6277e7e4.chunk.js","mappings":"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","sources":["components/BtnLoadMore/BtnLoadMore.jsx","components/Informer/Informer.styled.jsx","components/MovieItem/MovieItem.jsx","components/MoviesList/MoviesList.jsx","configs/constants.js","components/TrendingMovies/TrendingMovies.jsx","pages/Home/Home.jsx","services-api/themoviedb-apt.js"],"sourcesContent":["export const BtnLoadMore = ({ handleLoadMore }) => (\n  <button onClick={handleLoadMore}>Load more</button>\n);\n","import styled from 'styled-components';\nimport { INFO_TYPES } from 'configs/constants';\n\nexport const Informer = styled.p`\n  text-align: center;\n  color: ${props => {\n    let color = '';\n\n    switch (props.$infotype) {\n      case INFO_TYPES.error:\n        color = 'red';\n        break;\n      case INFO_TYPES.notification:\n        color = '#3f51b5';\n        break;\n      default:\n        color = 'black';\n    }\n    return color;\n  }};\n`;\n","import { Link } from 'react-router-dom';\n\nexport const MovieItem = ({ id, title, state }) => (\n  <li>\n    <Link to={`/movies/${id}`} state={state}>\n      {title}\n    </Link>\n  </li>\n);\n","import { useLocation } from 'react-router-dom';\nimport { MovieItem } from 'components/MovieItem/MovieItem';\n\nexport const MoviesList = ({ items }) => {\n  const location = useLocation();\n\n  return (\n    <ul>\n      {items.map(({ id, title }, idx) => (\n        <MovieItem key={idx} id={id} title={title} state={{ from: location }} />\n      ))}\n    </ul>\n  );\n};\n","export const STATUS = {\n  idle: 'idle',\n  pending: 'pending',\n  resolved: 'resolved',\n  rejected: 'rejected',\n};\n\nexport const INFO_TYPES = {\n  error: 'error',\n  notification: 'notification',\n};\n\nexport const REQUEST_TYPES = {\n  tranding: 'trending',\n  search: 'search',\n};\n","import React, { useEffect, useState } from 'react';\n\nimport { getTrending } from 'services-api/themoviedb-apt';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { BtnLoadMore } from 'components/BtnLoadMore/BtnLoadMore';\nimport { INFO_TYPES, STATUS } from 'configs/constants';\nimport { Loader } from 'components/Loader/Loader';\nimport { Informer } from 'components/Informer/Informer.styled';\n\nexport const TrendingMovies = () => {\n  const [items, setItems] = useState([]);\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState(STATUS.idle);\n  const [loadMore, setLoadMore] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const abortController = new AbortController();\n    const signal = abortController.signal;\n\n    async function getItems() {\n      setStatus(STATUS.pending);\n      const { results, total_pages } = await getTrending(page, signal);\n\n      setLoadMore(page < total_pages);\n      setItems(state => [...state, ...results]);\n      setStatus(STATUS.resolved);\n    }\n\n    try {\n      getItems();\n    } catch (error) {\n      setStatus(STATUS.rejected);\n      setError(error);\n    }\n\n    return () => {\n      abortController.abort();\n    };\n  }, [page]);\n\n  const handleLoadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  const showItems =\n    (status === STATUS.resolved || loadMore) && items.length > 0;\n  const showNoItemsWarning = status === STATUS.resolved && !items.length;\n  const showLoader = status === STATUS.pending;\n  const showLoadMore = status === STATUS.resolved && loadMore;\n  const showError = status === STATUS.rejected;\n\n  return (\n    <section>\n      <h2>Trending today</h2>\n      {showItems && <MoviesList items={items} />}\n      {showNoItemsWarning && (\n        <Informer\n          $infotype={INFO_TYPES.notification}\n        >{`No items found! Please, reload page`}</Informer>\n      )}\n      {showLoader && <Loader />}\n      {showLoadMore && <BtnLoadMore handleLoadMore={handleLoadMore} />}\n      {showError && (\n        <Informer\n          $infotype={INFO_TYPES.error}\n        >{`Oops, something went wrong! ${error.message}`}</Informer>\n      )}\n    </section>\n  );\n};\n","import { TrendingMovies } from 'components/TrendingMovies/TrendingMovies';\n\nconst Home = () => (\n  <>\n    <TrendingMovies />\n  </>\n);\n\nexport default Home;\n","import axios1 from 'axios';\n\nconst axios = axios1.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: 'aa5059789a38bc93f2c5a690047de290',\n  },\n});\n\nexport async function getTrending(page, signal) {\n  const params = { page };\n\n  const { data } = await axios.get('trending/movie/day', { params, signal });\n  return data;\n}\n\nexport async function getMoviesByTitle(query, page, signal) {\n  const params = { query, page };\n\n  const { data } = await axios.get('search/movie', { params, signal });\n  return data;\n}\n\nexport async function getMovieById(id, signal) {\n  const { data } = await axios.get(`movie/${id}`, { signal });\n  return data;\n}\n\nexport async function getMovieCredits(id, signal) {\n  const { data } = await axios.get(`movie/${id}/credits`, { signal });\n  return data;\n}\n\nexport async function getMovieReviews(id, page, signal) {\n  const params = { page };\n\n  const { data } = await axios.get(`movie/${id}/reviews`, { params, signal });\n  return data;\n}\n"],"names":["BtnLoadMore","_ref","handleLoadMore","_jsx","onClick","children","Informer","styled","_templateObject","_taggedTemplateLiteral","props","color","$infotype","INFO_TYPES","MovieItem","id","title","state","Link","to","concat","MoviesList","items","location","useLocation","map","_ref2","idx","from","STATUS","idle","pending","resolved","rejected","error","notification","TrendingMovies","_useState","useState","_useState2","_slicedToArray","setItems","_useState3","_useState4","page","setPage","_useState5","_useState6","status","setStatus","_useState7","_useState8","loadMore","setLoadMore","_useState9","_useState10","setError","useEffect","abortController","AbortController","signal","_getItems","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$getTrending","results","total_pages","_context","prev","next","getTrending","sent","_toConsumableArray","stop","apply","arguments","getItems","abort","showItems","length","showNoItemsWarning","showLoader","showLoadMore","showError","_jsxs","Loader","prevPage","message","_Fragment","axios","axios1","baseURL","params","api_key","_x","_x2","_getTrending","_yield$axios$get","data","get","abrupt","getMoviesByTitle","_x3","_x4","_x5","_getMoviesByTitle","_callee2","query","_yield$axios$get2","_context2","getMovieById","_x6","_x7","_getMovieById","_callee3","_yield$axios$get3","_context3","getMovieCredits","_x8","_x9","_getMovieCredits","_callee4","_yield$axios$get4","_context4","getMovieReviews","_x10","_x11","_x12","_getMovieReviews","_callee5","_yield$axios$get5","_context5"],"sourceRoot":""}