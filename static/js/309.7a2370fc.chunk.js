"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[309],{6268:function(n,t,e){e.d(t,{p:function(){return c}});var r,i=e(168),o=e(7924).ZP.button(r||(r=(0,i.Z)(["\n  display: block;\n  width: 100%;\n  max-width: ",";\n  margin: 0 auto;\n  height: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  background-color: transparent;\n  color: inherit;\n  &:is(:hover, :focus) {\n    color: ",";\n  }\n  transition: color ",";\n"])),(function(n){return n.theme.spacing(120)}),(function(n){return n.theme.spacing(10)}),(function(n){return n.theme.accentColor}),(function(n){return n.theme.spacing(5)}),(function(n){return n.theme.accentColor}),(function(n){return n.theme.transition})),a=e(184),c=function(n){var t=n.handleLoadMore;return(0,a.jsx)(o,{onClick:t,children:"Load more"})}},5570:function(n,t,e){e.d(t,{X:function(){return c}});var r,i=e(168),o=e(7924),a=e(9130),c=o.ZP.p(r||(r=(0,i.Z)(["\n  text-align: center;\n  padding-top: ",";\n  padding-bottom: ",";\n  color: ",";\n"])),(function(n){return n.theme.spacing(2)}),(function(n){return n.theme.spacing(2)}),(function(n){var t="";switch(n.$infotype){case a.$9.error:t="red";break;case a.$9.notification:t=n.theme.accentColor;break;default:t="black"}return t}))},4309:function(n,t,e){e.r(t),e.d(t,{default:function(){return M}});var r,i,o,a,c,u=e(3433),s=e(5861),p=e(9439),f=e(4687),d=e.n(f),h=e(2791),l=e(7689),m=e(9130),g=e(9124),v=e(6268),b=e(9258),x=e(4884),w=e(3257),_=e(168),Z=e(7924),j=Z.ZP.li(r||(r=(0,_.Z)(["\n  padding: ",";\n  border-radius: ",";\n  background-color: ",";\n  &:not(:last-child) {\n    margin-bottom: ",";\n  }\n"])),(function(n){return n.theme.spacing(6)}),(function(n){return n.theme.spacing(4)}),(function(n){return n.theme.bcColor2}),(function(n){return n.theme.spacing(6)})),y=Z.ZP.div(i||(i=(0,_.Z)(["\n  display: flex;\n  gap: ",";\n  flex-wrap: wrap;\n  margin-bottom: ",";\n"])),(function(n){return n.theme.spacing(6)}),(function(n){return n.theme.spacing(4)})),k=Z.ZP.img(o||(o=(0,_.Z)(["\n  width: ",";\n  height: ",";\n  object-fit: cover;\n  object-position: center;\n  border-radius: 50%;\n"])),(function(n){return n.theme.spacing(25)}),(function(n){return n.theme.spacing(25)})),Q=Z.ZP.h4(a||(a=(0,_.Z)(["\n  font-size: ",";\n  margin-bottom: ",";\n"])),(function(n){return n.theme.spacing(6)}),(function(n){return n.theme.spacing(2)})),C=e(184),P=function(n){var t=n.author,e=n.authorDetails.avatar_path,r=n.content,i=n.createdAt;return(0,C.jsxs)(j,{children:[(0,C.jsxs)(y,{children:[(0,C.jsx)(k,{src:e?"".concat(w.H.secure_base_url).concat(w.H.profile_size_185,"/").concat(e):m.nm,width:150,alt:t}),(0,C.jsxs)("div",{children:[(0,C.jsxs)(Q,{children:["A review by ",t]}),(0,C.jsxs)("p",{children:["Written on ",new x.Z(i).format("DD MMM YYYY")]})]})]}),(0,C.jsx)("p",{children:r})]})},$=Z.ZP.ul(c||(c=(0,_.Z)(["\n  padding-top: ",";\n  padding-bottom: ",";\n"])),(function(n){return n.theme.spacing(6)}),(function(n){return n.theme.spacing(6)})),z=function(n){var t=n.items,e=(0,h.useRef)(null);return(0,h.useEffect)((function(){var n;null===(n=e.current)||void 0===n||n.scrollIntoView({behavior:"smooth"})}),[]),(0,C.jsx)($,{ref:e,children:t.map((function(n){var t=n.id,e=n.author,r=n.author_details,i=n.content,o=n.created_at;return(0,C.jsx)(P,{author:e,authorDetails:r,createdAt:o,content:i},t)}))})},S=e(5570),M=function(){var n=(0,h.useState)([]),t=(0,p.Z)(n,2),e=t[0],r=t[1],i=(0,h.useState)(m.Q_.idle),o=(0,p.Z)(i,2),a=o[0],c=o[1],f=(0,h.useState)(1),x=(0,p.Z)(f,2),w=x[0],_=x[1],Z=(0,h.useState)(!1),j=(0,p.Z)(Z,2),y=j[0],k=j[1],Q=(0,h.useState)(null),P=(0,p.Z)(Q,2),$=P[0],M=P[1],A=(0,l.UO)().movieId;(0,h.useEffect)((function(){if(A){var n=new AbortController,t=n.signal;try{!function(){e.apply(this,arguments)}()}catch($){c(m.Q_.rejected),M($)}return function(){n.abort()}}function e(){return(e=(0,s.Z)(d().mark((function n(){var e,i,o;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c(m.Q_.pending),n.next=3,(0,g.tx)(A,w,t);case 3:e=n.sent,i=e.results,o=e.total_pages,k(w<o),r((function(n){return[].concat((0,u.Z)(n),(0,u.Z)(i))})),c(m.Q_.resolved);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}),[A,w]);var D=(a===m.Q_.resolved||y)&&e.length>0,H=a===m.Q_.resolved&&!e.length,L=a===m.Q_.pending,Y=a===m.Q_.resolved&&y,X=a===m.Q_.rejected;return(0,C.jsxs)(C.Fragment,{children:[D&&(0,C.jsx)(z,{items:e}),H&&(0,C.jsx)(S.X,{$infotype:m.$9.notification,children:"No reviews found!"}),L&&(0,C.jsx)(b.a,{}),Y&&(0,C.jsx)(v.p,{handleLoadMore:function(){_((function(n){return n+1}))}}),X&&(0,C.jsx)(S.X,{$infotype:m.$9.error,children:"Oops, something went wrong! ".concat($.message)})]})}},9130:function(n,t,e){e.d(t,{$9:function(){return i},Q_:function(){return r},WS:function(){return a},nm:function(){return o}});var r={idle:"idle",pending:"pending",resolved:"resolved",rejected:"rejected"},i={error:"error",notification:"notification"},o="https://picsum.photos/id/338/250/375",a="https://picsum.photos/id/318/250/375"},3257:function(n,t,e){e.d(t,{H:function(){return r}});var r={secure_base_url:"https://image.tmdb.org/t/p/",poster_size_342:"w342",poster_size_500:"w500",profile_size_185:"w185"}},9124:function(n,t,e){e.d(t,{Hg:function(){return c},Nr:function(){return s},Pg:function(){return f},tx:function(){return m},zv:function(){return h}});var r=e(5861),i=e(4687),o=e.n(i),a=e(5294).Z.create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"aa5059789a38bc93f2c5a690047de290"}});function c(n,t){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(o().mark((function n(t,e){var r,i,c;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={page:t},n.next=3,a.get("trending/movie/day",{params:r,signal:e});case 3:return i=n.sent,c=i.data,n.abrupt("return",c);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function s(n,t,e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(o().mark((function n(t,e,r){var i,c,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={query:t,page:e},n.next=3,a.get("search/movie",{params:i,signal:r});case 3:return c=n.sent,u=c.data,n.abrupt("return",u);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function f(n,t){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(o().mark((function n(t,e){var r,i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.get("movie/".concat(t),{signal:e});case 2:return r=n.sent,i=r.data,n.abrupt("return",i);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(n,t){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(o().mark((function n(t,e){var r,i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.get("movie/".concat(t,"/credits"),{signal:e});case 2:return r=n.sent,i=r.data,n.abrupt("return",i);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function m(n,t,e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(o().mark((function n(t,e,r){var i,c,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={page:e},n.next=3,a.get("movie/".concat(t,"/reviews"),{params:i,signal:r});case 3:return c=n.sent,u=c.data,n.abrupt("return",u);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=309.7a2370fc.chunk.js.map