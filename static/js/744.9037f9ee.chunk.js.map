{"version":3,"file":"static/js/744.9037f9ee.chunk.js","mappings":"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","sources":["components/BtnLoadMore/BtnLoadMore.jsx","components/Informer/Informer.styled.jsx","components/ReviewItem/ReviewItem.jsx","components/ReviewList/ReviewList.jsx","components/Reviews/Reviews.jsx","configs/constants.js","services-api/themoviedb-apt.js"],"sourcesContent":["export const BtnLoadMore = ({ handleLoadMore }) => (\n  <button onClick={handleLoadMore}>Load more</button>\n);\n","import styled from 'styled-components';\nimport { INFO_TYPES } from 'configs/constants';\n\nexport const Informer = styled.p`\n  text-align: center;\n  color: ${props => {\n    let color = '';\n\n    switch (props.$infotype) {\n      case INFO_TYPES.error:\n        color = 'red';\n        break;\n      case INFO_TYPES.notification:\n        color = '#3f51b5';\n        break;\n      default:\n        color = 'black';\n    }\n    return color;\n  }};\n`;\n","export const ReviewItem = ({ author, content }) => (\n  <li>\n    <h4>{author}</h4>\n    <p>{content}</p>\n  </li>\n);\n","import { ReviewItem } from 'components/ReviewItem/ReviewItem';\n\nexport const ReviewList = ({ items }) => (\n  <ul>\n    {items.map(({ id, author, content }) => (\n      <ReviewItem key={id} author={author} content={content} />\n    ))}\n  </ul>\n);\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport { BtnLoadMore } from 'components/BtnLoadMore/BtnLoadMore';\nimport { Informer } from 'components/Informer/Informer.styled';\nimport { Loader } from 'components/Loader/Loader';\nimport { ReviewList } from 'components/ReviewList/ReviewList';\nimport { INFO_TYPES, STATUS } from 'configs/constants';\nimport { getMovieReviews } from 'services-api/themoviedb-apt';\n\nconst Reviews = () => {\n  const [items, setItems] = useState([]);\n  const [status, setStatus] = useState(STATUS.idle);\n  const [page, setPage] = useState(1);\n  const [loadMore, setLoadMore] = useState(false);\n  const [error, setError] = useState(null);\n\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    if (!movieId) return;\n    const abortController = new AbortController();\n    const signal = abortController.signal;\n\n    async function getItems() {\n      setStatus(STATUS.pending);\n      const { results, total_pages } = await getMovieReviews(\n        movieId,\n        page,\n        signal\n      );\n      setLoadMore(page < total_pages);\n      setItems(state => [...state, ...results]);\n      setStatus(STATUS.resolved);\n    }\n\n    try {\n      getItems();\n    } catch (error) {\n      setStatus(STATUS.rejected);\n      setError(error);\n    }\n\n    return () => {\n      abortController.abort();\n    };\n  }, [movieId, page]);\n\n  const handleLoadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  const showItems =\n    (status === STATUS.resolved || loadMore) && items.length > 0;\n  const showNoItemsWarning = status === STATUS.resolved && !items.length;\n  const showLoader = status === STATUS.pending;\n  const showLoadMore = status === STATUS.resolved && loadMore;\n  const showError = status === STATUS.rejected;\n\n  return (\n    <>\n      {showItems && <ReviewList items={items} />}\n      {showNoItemsWarning && (\n        <Informer\n          $infotype={INFO_TYPES.notification}\n        >{`No items found!`}</Informer>\n      )}\n      {showLoader && <Loader />}\n      {showLoadMore && <BtnLoadMore handleLoadMore={handleLoadMore} />}\n      {showError && (\n        <Informer\n          $infotype={INFO_TYPES.error}\n        >{`Oops, something went wrong! ${error.message}`}</Informer>\n      )}\n    </>\n  );\n};\n\nexport default Reviews;\n","export const STATUS = {\n  idle: 'idle',\n  pending: 'pending',\n  resolved: 'resolved',\n  rejected: 'rejected',\n};\n\nexport const INFO_TYPES = {\n  error: 'error',\n  notification: 'notification',\n};\n\nexport const REQUEST_TYPES = {\n  tranding: 'trending',\n  search: 'search',\n};\n","import axios1 from 'axios';\n\nconst axios = axios1.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: 'aa5059789a38bc93f2c5a690047de290',\n  },\n});\n\nexport async function getTrending(page, signal) {\n  const params = { page };\n\n  const { data } = await axios.get('trending/movie/day', { params, signal });\n  return data;\n}\n\nexport async function getMoviesByTitle(query, page, signal) {\n  const params = { query, page };\n\n  const { data } = await axios.get('search/movie', { params, signal });\n  return data;\n}\n\nexport async function getMovieById(id, signal) {\n  const { data } = await axios.get(`movie/${id}`, { signal });\n  return data;\n}\n\nexport async function getMovieCredits(id, signal) {\n  const { data } = await axios.get(`movie/${id}/credits`, { signal });\n  return data;\n}\n\nexport async function getMovieReviews(id, page, signal) {\n  const params = { page };\n\n  const { data } = await axios.get(`movie/${id}/reviews`, { params, signal });\n  return data;\n}\n"],"names":["BtnLoadMore","_ref","handleLoadMore","_jsx","onClick","children","Informer","styled","_templateObject","_taggedTemplateLiteral","props","color","$infotype","INFO_TYPES","ReviewItem","author","content","_jsxs","ReviewList","items","map","_ref2","id","_useState","useState","_useState2","_slicedToArray","setItems","_useState3","STATUS","_useState4","status","setStatus","_useState5","_useState6","page","setPage","_useState7","_useState8","loadMore","setLoadMore","_useState9","_useState10","error","setError","movieId","useParams","useEffect","abortController","AbortController","signal","_getItems","apply","arguments","getItems","abort","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$getMovieReview","results","total_pages","_context","prev","next","getMovieReviews","sent","state","concat","_toConsumableArray","stop","showItems","length","showNoItemsWarning","showLoader","showLoadMore","showError","_Fragment","Loader","prevPage","message","idle","pending","resolved","rejected","notification","axios","axios1","baseURL","params","api_key","getTrending","_x","_x2","_getTrending","_yield$axios$get","data","get","abrupt","getMoviesByTitle","_x3","_x4","_x5","_getMoviesByTitle","_callee2","query","_yield$axios$get2","_context2","getMovieById","_x6","_x7","_getMovieById","_callee3","_yield$axios$get3","_context3","getMovieCredits","_x8","_x9","_getMovieCredits","_callee4","_yield$axios$get4","_context4","_x10","_x11","_x12","_getMovieReviews","_callee5","_yield$axios$get5","_context5"],"sourceRoot":""}